rust-proxmox-sys (0.5.7-1) bookworm; urgency=medium

  * replace c_str! macro use with c"literals"

  * provide public consts for xattr names

  * deprecate xattr name functions in favor of the new constants

 -- Proxmox Support Team <support@proxmox.com>  Thu, 20 Jun 2024 10:45:22 +0200

rust-proxmox-sys (0.5.6-1) bookworm; urgency=medium

  * fs: make file parameter generic in CreateOptions

  * fs: add helpers to check file and directory permissions

  * fs: use 0750 as default for directory permissions

  * fs: change error of create_dir to include the path, this changes the error
    type from nix::Error to anyhow::Error

 -- Proxmox Support Team <support@proxmox.com>  Mon, 17 Jun 2024 14:04:41 +0200

rust-proxmox-sys (0.5.5-1) bookworm; urgency=medium

  * crypt: use constant time comparison for password verification

  * crypt: move to yescrypt for password hashing by default

 -- Proxmox Support Team <support@proxmox.com>  Wed, 22 May 2024 15:47:45 +0200

rust-proxmox-sys (0.5.4-2) bookworm; urgency=medium

  * re-build for fixed provides

 -- Proxmox Support Team <support@proxmox.com>  Fri, 26 Apr 2024 17:11:06 +0200

rust-proxmox-sys (0.5.4-1) bookworm; urgency=medium

  * sys: Use safe std::io::IsTerminal wrapper for libc::isatty and depreacate
    it

  * fix: use fragmented block size for space calculation

 -- Proxmox Support Team <support@proxmox.com>  Fri, 26 Apr 2024 16:52:43 +0200

rust-proxmox-sys (0.5.3-1) bookworm; urgency=medium

  * use epoch_to_rfc2822 from proxmox_time, fixes an issue with times in
    emails not being formatted correctly

 -- Proxmox Support Team <support@proxmox.com>  Mon, 08 Jan 2024 12:48:11 +0100

rust-proxmox-sys (0.5.2-1) bookworm; urgency=medium

  * add helper to get bootmode and secureboot status

  * email: move Auto-Submitted header up

 -- Proxmox Support Team <support@proxmox.com>  Wed, 29 Nov 2023 15:25:47 +0100

rust-proxmox-sys (0.5.1-1) bookworm; urgency=medium

  * fix #4162: sys: added `auto-submitted` header to email body

  * email: add `forward`

  * purge now unused pty module

 -- Proxmox Support Team <support@proxmox.com>  Fri, 17 Nov 2023 10:36:38 +0100

rust-proxmox-sys (0.5.0-1) bookworm; urgency=medium

  * bump zstd to 0.12

  * rebuild for Debian 12 bookworm based series

 -- Proxmox Support Team <support@proxmox.com>  Tue, 23 May 2023 11:31:00 +0200

rust-proxmox-sys (0.4.2-1) stable; urgency=medium

  * sys: impl AsFd for PidFd

  * sys: impl AsFd for PTY

  * clippy 1.65 fixes

  * move common metadata to workspace

  * use workspace dependencies

  * update nix to 0.26

 -- Proxmox Support Team <support@proxmox.com>  Thu, 05 Jan 2023 12:05:38 +0100

rust-proxmox-sys (0.4.1) stable; urgency=medium

  * deprecate most of the 'fd' helper types as they are now covered by std

  * use namespaced dependencies

 -- Proxmox Support Team <support@proxmox.com>  Wed, 19 Oct 2022 14:19:54 +0200

rust-proxmox-sys (0.4.0) stable; urgency=medium

  * introduce 'acl', 'crypt' and 'timer' features, to avoid unconditionally
    linking to libacl, libcrypt and librt respectively

  * file locking requires the 'timer' feature

  * drop dependency on 'proxmox-borrow'

  * bumped edition to 2021

  * 'CreateOptions' now has const 'group_root' and 'root_only' builders

 -- Proxmox Support Team <support@proxmox.com>  Thu, 28 Jul 2022 12:49:03 +0200

rust-proxmox-sys (0.3.2) stable; urgency=medium

  * make systemd::escape_unit() more flexible

  * add systemd::unescape_unit_path

 -- Proxmox Support Team <support@proxmox.com>  Thu, 07 Jul 2022 11:48:09 +0200

rust-proxmox-sys (0.3.1) stable; urgency=medium

  * partially fix #2915: scandir: stat if file_type from readdir is unknown

 -- Proxmox Support Team <support@proxmox.com>  Wed, 29 Jun 2022 09:40:15 +0200

rust-proxmox-sys (0.3.0) stable; urgency=medium

  * feature-gate "logrotate" (and zstd)

  * bump nix to 0.24

  * move io error helpers to proxmox-lang

  * add FileSystemInformation struct and helper

  * use nix::unistd::fchown instead of re-implementing it

 -- Proxmox Support Team <support@proxmox.com>  Thu, 2 Jun 2022 12:08:34 +0200

rust-proxmox-sys (0.2.2) stable; urgency=medium

  * update sortable-macro to 0.1.2, drop requirement for the identity macro

  * deprecate identity macro, to be removed with 0.3.0

  * fix a warning potentially generated by the io_bail_last macro on newer
    compilers

 -- Proxmox Support Team <support@proxmox.com>  Mon, 29 Nov 2021 11:32:35 +0100

rust-proxmox-sys (0.2.1) stable; urgency=medium

  * proxmox-sys: import pipe() function from pbs-toos/src/io.rs

 -- Proxmox Support Team <support@proxmox.com>  Thu, 25 Nov 2021 12:11:19 +0100

rust-proxmox-sys (0.2.0) unstable; urgency=medium

  * moved code from proxmox crate

  * imported code from proxmox-backup/pbs-tools
    - pbs-tools/src/command.rs
    - pbs-tools/src/acl.rs
    - pbs-tool/src/xattr.rs
    - pbs-tools/src/fs.rs

 -- Proxmox Support Team <support@proxmox.com>  Tue, 23 Nov 2021 11:30:42 +0100

rust-proxmox-sys (0.1.2) unstable; urgency=medium

  * fix test for wrong logrotate path

 -- Proxmox Support Team <support@proxmox.com>  Mon, 22 Nov 2021 10:30:38 +0100

rust-proxmox-sys (0.1.1) stable; urgency=medium

  * rebuild with base64 0.13

 -- Proxmox Support Team <support@proxmox.com>  Fri, 19 Nov 2021 11:45:58 +0100

rust-proxmox-sys (0.1.0) stable; urgency=medium

  * imported pbs-tools/src/crypt.rs

  * imported pbs-tools/src/process_locker.rs

  * imported pbs-tools/src/logrotate.rs (with various cleanups)

  * imported pbs-tools/src/task.rs (as worker_task_context.rs)

  * initial release

 -- Proxmox Support Team <support@proxmox.com>  Fri, 19 Nov 2021 09:44:01 +0100
